(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[566],{2315:(e,t,i)=>{Promise.resolve().then(i.bind(i,9246))},6046:(e,t,i)=>{"use strict";var a=i(6658);i.o(a,"usePathname")&&i.d(t,{usePathname:function(){return a.usePathname}}),i.o(a,"useRouter")&&i.d(t,{useRouter:function(){return a.useRouter}})},5353:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"useMergedRef",{enumerable:!0,get:function(){return s}});let a=i(2115);function s(e,t){let i=(0,a.useRef)(()=>{}),s=(0,a.useRef)(()=>{});return(0,a.useMemo)(()=>e&&t?a=>{null===a?(i.current(),s.current()):(i.current=n(e,a),s.current=n(t,a))}:e||t,[e,t])}function n(e,t){if("function"!=typeof e)return e.current=t,()=>{e.current=null};{let i=e(t);return"function"==typeof i?i:()=>e(null)}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},7916:(e,t,i)=>{"use strict";i.d(t,{q:()=>l});var a=i(5155),s=i(2870),n=i(6046),r=i(2115);function l(e){let{children:t}=e,{user:i,loading:l}=(0,s.A)(),c=(0,n.useRouter)(),o=(0,n.usePathname)();return((0,r.useEffect)(()=>{!l&&(i?["/login","/signup"].includes(o)&&c.push("/home"):["/home","/profile","/settings"].includes(o)&&c.push("/login"))},[i,l,c,o]),l)?(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-blue-500"})}):(0,a.jsx)(a.Fragment,{children:t})}},8429:(e,t,i)=>{"use strict";i.d(t,{Z:()=>r});var a=i(5155),s=i(5565);let n={receipt:{upload:"/onboarding/receipt/upload.png",confirm:"/onboarding/receipt/confirm.png"},addItem:{form:"/onboarding/add-item/form.png"},recipes:{preferences:"/onboarding/recipes/preferences.png",generated:"/onboarding/recipes/generated.png",card:"/onboarding/recipes/card.png"},usage:{ingredients:"/onboarding/usage/ingredients.png",servings:"/onboarding/usage/servings.png",pantryUpdate:"/onboarding/usage/pantry-update.png"}};function r(e){let{section:t,image:i,alt:r,className:l=""}=e,c=n[t][i];return(0,a.jsx)("div",{className:"relative rounded-lg overflow-hidden ".concat(l),children:(0,a.jsx)(s.default,{src:c,alt:r,width:1200,height:800,className:"w-full h-auto",priority:!0})})}},9246:(e,t,i)=>{"use strict";i.d(t,{default:()=>h});var a=i(5155),s=i(2115),n=i(6046),r=i(2870),l=i(7916),c=i(3562);function o(e){let{currentStep:t,totalSteps:i}=e;return(0,a.jsx)("div",{className:"flex items-center gap-2 mb-8",children:Array.from({length:i}).map((e,i)=>(0,a.jsx)("div",{className:"h-2 rounded-full transition-all ".concat(i<t?"bg-blue-500 flex-1":i===t?"bg-blue-500/50 flex-1":"bg-gray-700 flex-1")},i))})}function d(e){let{userName:t,onNext:i,onExit:s}=e;return(0,a.jsxs)(c.P.div,{initial:{opacity:0},animate:{opacity:1},className:"space-y-6 text-center",children:[(0,a.jsxs)("h2",{className:"text-2xl font-bold",children:["Welcome ",t,"! \uD83D\uDC4B"]}),(0,a.jsx)("p",{className:"text-gray-300",children:"Get started with managing your pantry and discovering recipes."}),(0,a.jsxs)("div",{className:"flex justify-center gap-4",children:[(0,a.jsx)("button",{onClick:s,className:"px-6 py-2 bg-gray-700 text-white rounded-lg hover:bg-gray-600",children:"Skip Tutorial"}),(0,a.jsx)("button",{onClick:i,className:"px-6 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-400",children:"Get Started"})]})]})}var u=i(8429);function x(e){let{onNext:t,onBack:i,onExit:n}=e,r=(0,s.useRef)(null),[l,o]=(0,s.useState)(0),d=[{title:"Add Items Manually",description:"Add items one by one with detailed information about quantities, expiry dates, and categories",icon:"✏️",image:{section:"addItem",image:"form"}},{title:"Upload Receipt",description:"Quickly add multiple items at once by scanning your grocery receipts",icon:"\uD83D\uDCF7",image:{section:"receipt",image:"upload"}}];return(0,a.jsxs)(c.P.div,{initial:{opacity:0},animate:{opacity:1},className:"space-y-6",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-center",children:"Add Items to Your Pantry"}),(0,a.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6",children:[(0,a.jsx)("div",{className:"flex justify-between mb-6",children:d.map((e,t)=>(0,a.jsx)("div",{className:"h-2 flex-1 mx-1 rounded-full transition-colors ".concat(t===l?"bg-blue-500":"bg-gray-700")},t))}),(0,a.jsxs)(c.P.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("span",{className:"text-2xl",children:d[l].icon}),(0,a.jsx)("h3",{className:"text-xl font-semibold",children:d[l].title})]}),(0,a.jsx)("p",{className:"text-gray-300",children:d[l].description}),(0,a.jsx)(u.Z,{section:d[l].image.section,image:d[l].image.image,alt:d[l].title,className:"border border-gray-700 mb-4"}),0===l&&(0,a.jsx)("button",{disabled:!0,className:"px-4 py-2 bg-gray-700 text-gray-400 rounded-lg cursor-not-allowed mx-auto block",children:"Add Item"}),1===l&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("button",{disabled:!0,className:"px-4 py-2 bg-gray-700 text-gray-400 rounded-lg cursor-not-allowed mx-auto block",children:"Upload Receipt"}),(0,a.jsx)("input",{type:"file",ref:r,className:"hidden",accept:"image/*",disabled:!0})]}),(0,a.jsx)("p",{className:"text-sm text-gray-500 text-center mt-2",children:"Available after tutorial"})]},l)]}),(0,a.jsxs)("div",{className:"flex justify-between pt-4",children:[(0,a.jsx)("button",{onClick:()=>{l>0?o(e=>e-1):i()},className:"px-4 py-2 text-gray-400 hover:text-white",children:"Back"}),(0,a.jsx)("button",{onClick:n,className:"px-4 py-2 text-gray-400 hover:text-white",children:"Skip Tutorial"}),(0,a.jsx)("button",{onClick:()=>{l<d.length-1?o(e=>e+1):t()},className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-400",children:l===d.length-1?"Continue":"Next"})]})]})}function p(e){let{onNext:t,onBack:i,onExit:n}=e,[r,l]=(0,s.useState)(0),o=[{title:"Set Your Preferences",description:"Choose cuisines, dietary restrictions, and meal types to get personalized recipes",icon:"\uD83C\uDFAF",imagePath:{section:"recipes",image:"preferences"}},{title:"Generate Recipes",description:"Click generate to get AI-powered recipes based on your preferences and pantry",icon:"✨",imagePath:{section:"recipes",image:"generated"}},{title:"Check Availability",description:"Green means you have all ingredients, yellow some, and red few",icon:"\uD83D\uDCCA",imagePath:{section:"recipes",image:"card"}}];return(0,a.jsxs)(c.P.div,{initial:{opacity:0},animate:{opacity:1},className:"space-y-6",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-center",children:"Generate & Use Recipes"}),(0,a.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6",children:[(0,a.jsx)("div",{className:"flex justify-between mb-6",children:o.map((e,t)=>(0,a.jsx)("div",{className:"h-2 flex-1 mx-1 rounded-full transition-colors ".concat(t===r?"bg-blue-500":"bg-gray-700")},t))}),(0,a.jsxs)(c.P.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("span",{className:"text-2xl",children:o[r].icon}),(0,a.jsx)("h3",{className:"text-xl font-semibold",children:o[r].title})]}),(0,a.jsx)("p",{className:"text-gray-300",children:o[r].description}),(0,a.jsx)(u.Z,{section:o[r].imagePath.section,image:o[r].imagePath.image,alt:o[r].title,className:"border border-gray-700"})]},r)]}),(0,a.jsxs)("div",{className:"flex justify-between pt-4",children:[(0,a.jsx)("button",{onClick:i,className:"px-4 py-2 text-gray-400 hover:text-white",children:"Back"}),(0,a.jsx)("button",{onClick:n,className:"px-4 py-2 text-gray-400 hover:text-white",children:"Skip Tutorial"}),(0,a.jsx)("button",{onClick:()=>{r<o.length-1?l(e=>e+1):t()},className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-400",children:"Continue"})]})]})}function m(e){let{onComplete:t,onBack:i,onExit:n}=e,[r,l]=(0,s.useState)(0),o=[{title:"Check Ingredient Availability",description:"Green ingredients are available in your pantry, yellow ones have substitutes, and red ones are missing.",icon:"\uD83D\uDD0D",imagePath:{section:"usage",image:"ingredients"}},{title:"Adjust Servings",description:"Scale the recipe up or down - ingredient quantities will automatically adjust.",icon:"⚖️",imagePath:{section:"usage",image:"servings"}},{title:"Track Usage",description:"When you cook a recipe, your pantry quantities will automatically update.",icon:"\uD83D\uDCDD",imagePath:{section:"usage",image:"pantryUpdate"}}];return(0,a.jsxs)(c.P.div,{initial:{opacity:0},animate:{opacity:1},className:"space-y-6",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-center",children:"Using Recipes"}),(0,a.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6",children:[(0,a.jsx)("div",{className:"flex justify-between mb-6",children:o.map((e,t)=>(0,a.jsx)("div",{className:"h-2 flex-1 mx-1 rounded-full transition-colors ".concat(t===r?"bg-blue-500":"bg-gray-700")},t))}),(0,a.jsxs)(c.P.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("span",{className:"text-2xl",children:o[r].icon}),(0,a.jsx)("h3",{className:"text-xl font-semibold",children:o[r].title})]}),(0,a.jsx)("p",{className:"text-gray-300",children:o[r].description}),(0,a.jsx)(u.Z,{section:o[r].imagePath.section,image:o[r].imagePath.image,alt:o[r].title,className:"border border-gray-700"})]},r)]}),(0,a.jsxs)("div",{className:"flex justify-between pt-4",children:[(0,a.jsx)("button",{onClick:i,className:"px-4 py-2 text-gray-400 hover:text-white",children:"Back"}),(0,a.jsx)("button",{onClick:n,className:"px-4 py-2 text-gray-400 hover:text-white",children:"Skip Tutorial"}),(0,a.jsx)("button",{onClick:()=>{r<o.length-1?l(e=>e+1):t()},className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-400",children:r===o.length-1?"Complete":"Continue"})]})]})}let g=["welcome","add_items","generate_recipes","use_recipes"];function h(){let e=(0,n.useRouter)(),{user:t}=(0,r.A)(),[i,u]=(0,s.useState)("welcome"),h=()=>e.push("/home");return(0,a.jsx)(l.q,{children:(0,a.jsx)("div",{className:"min-h-screen bg-gray-950 text-white",children:(0,a.jsx)("div",{className:"max-w-2xl mx-auto px-4 py-12",children:(0,a.jsxs)(c.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gray-900 rounded-xl p-8 relative",children:[(0,a.jsx)(o,{currentStep:g.indexOf(i),totalSteps:g.length}),(()=>{switch(i){case"welcome":var s;return(0,a.jsx)(d,{userName:(null==t?void 0:null===(s=t.user_metadata)||void 0===s?void 0:s.name)||"Chef",onNext:()=>u("add_items"),onExit:h});case"add_items":return(0,a.jsx)(x,{onNext:()=>u("generate_recipes"),onBack:()=>u("welcome"),onExit:h});case"generate_recipes":return(0,a.jsx)(p,{onNext:()=>u("use_recipes"),onBack:()=>u("add_items"),onExit:h});case"use_recipes":return(0,a.jsx)(m,{onComplete:()=>e.push("/home"),onBack:()=>u("generate_recipes"),onExit:h})}})()]})})})})}},2870:(e,t,i)=>{"use strict";i.d(t,{A:()=>n,c:()=>s});var a=i(2115);let s=(0,a.createContext)(void 0);function n(){let e=(0,a.useContext)(s);if(!e)throw Error("useAuth must be used within an AuthProvider");return e}}},e=>{var t=t=>e(e.s=t);e.O(0,[246,441,517,358],()=>t(2315)),_N_E=e.O()}]);